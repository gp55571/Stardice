{
    "type": "database",
    "name": "filmy",
    "objects": [
        {
            "type": "table",
            "database": null,
            "name": "actors",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE actors (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT NOT NULL,\n    birth_year INTEGER\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "name",
                    "type": "TEXT",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "birth_year",
                    "type": "INTEGER"
                }
            ],
            "rows": [
                [
                    1,
                    "Tim Robbins",
                    1958
                ],
                [
                    2,
                    "Morgan Freeman",
                    1937
                ],
                [
                    3,
                    "Marlon Brando",
                    1924
                ],
                [
                    4,
                    "Al Pacino",
                    1940
                ],
                [
                    5,
                    "Christian Bale",
                    1974
                ],
                [
                    6,
                    "Heath Ledger",
                    1979
                ],
                [
                    7,
                    "Tom Hanks",
                    1956
                ],
                [
                    8,
                    "Elijah Wood",
                    1981
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "directors",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE directors (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT UNIQUE NOT NULL\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "name",
                    "type": "TEXT",
                    "constraints": [
                        {
                            "type": "UNIQUE",
                            "definition": "UNIQUE "
                        },
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL\n"
                        }
                    ]
                }
            ],
            "rows": [
                [
                    1,
                    "Frank Darabont"
                ],
                [
                    2,
                    "Francis Ford Coppola"
                ],
                [
                    3,
                    "Christopher Nolan"
                ],
                [
                    4,
                    "Sidney Lumet"
                ],
                [
                    5,
                    "Steven Spielberg"
                ],
                [
                    6,
                    "Peter Jackson"
                ],
                [
                    7,
                    "Quentin Tarantino"
                ],
                [
                    8,
                    "Robert Zemeckis"
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "genres",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE genres (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT UNIQUE NOT NULL\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "name",
                    "type": "TEXT",
                    "constraints": [
                        {
                            "type": "UNIQUE",
                            "definition": "UNIQUE "
                        },
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL\n"
                        }
                    ]
                }
            ],
            "rows": [
                [
                    1,
                    "Dramat"
                ],
                [
                    2,
                    "Kryminał"
                ],
                [
                    3,
                    "Akcja"
                ],
                [
                    4,
                    "Fantasy"
                ],
                [
                    5,
                    "Przygodowy"
                ],
                [
                    6,
                    "Biograficzny"
                ],
                [
                    7,
                    "Historyczny"
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "komentarze",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE komentarze (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    film_id         INTEGER NOT NULL,\n    tresc           TEXT NOT NULL,\n    data_dodania    DATETIME DEFAULT CURRENT_TIMESTAMP,\n\n    FOREIGN KEY (film_id) REFERENCES filmy(id) ON DELETE CASCADE\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "film_id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "tresc",
                    "type": "TEXT",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "data_dodania",
                    "type": "DATETIME",
                    "constraints": [
                        {
                            "type": "DEFAULT",
                            "definition": "DEFAULT CURRENT_TIMESTAMP"
                        }
                    ]
                }
            ],
            "constraints": [
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (film_id) REFERENCES filmy(id) ON DELETE CASCADE\n"
                }
            ],
            "rows": [
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "movie_actors",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE movie_actors (\n    movie_id INTEGER NOT NULL,\n    actor_id INTEGER NOT NULL,\n    role_name TEXT,\n    PRIMARY KEY (movie_id, actor_id),\n    FOREIGN KEY (movie_id) REFERENCES movies(id),\n    FOREIGN KEY (actor_id) REFERENCES actors(id)\n)",
            "columns": [
                {
                    "name": "movie_id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "actor_id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "role_name",
                    "type": "TEXT"
                }
            ],
            "constraints": [
                {
                    "type": "PRIMARY KEY",
                    "definition": "PRIMARY KEY (movie_id, actor_id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (movie_id) REFERENCES movies(id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (actor_id) REFERENCES actors(id)\n"
                }
            ],
            "rows": [
                [
                    1,
                    1,
                    "Andy Dufresne"
                ],
                [
                    1,
                    2,
                    "Ellis Boyd Redding"
                ],
                [
                    2,
                    3,
                    "Vito Corleone"
                ],
                [
                    2,
                    4,
                    "Michael Corleone"
                ],
                [
                    3,
                    5,
                    "Bruce Wayne"
                ],
                [
                    3,
                    6,
                    "Joker"
                ],
                [
                    10,
                    7,
                    "Forrest Gump"
                ],
                [
                    9,
                    8,
                    "Frodo Baggins"
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "movie_directors",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE movie_directors (\n    movie_id INTEGER,\n    director_id INTEGER,\n    PRIMARY KEY (movie_id, director_id),\n    FOREIGN KEY (movie_id) REFERENCES movies(id),\n    FOREIGN KEY (director_id) REFERENCES directors(id)\n)",
            "columns": [
                {
                    "name": "movie_id",
                    "type": "INTEGER"
                },
                {
                    "name": "director_id",
                    "type": "INTEGER"
                }
            ],
            "constraints": [
                {
                    "type": "PRIMARY KEY",
                    "definition": "PRIMARY KEY (movie_id, director_id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (movie_id) REFERENCES movies(id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (director_id) REFERENCES directors(id)\n"
                }
            ],
            "rows": [
                [
                    1,
                    1
                ],
                [
                    2,
                    2
                ],
                [
                    3,
                    3
                ],
                [
                    4,
                    2
                ],
                [
                    5,
                    4
                ],
                [
                    6,
                    5
                ],
                [
                    7,
                    6
                ],
                [
                    8,
                    7
                ],
                [
                    9,
                    6
                ],
                [
                    10,
                    8
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "movie_genres",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE movie_genres (\n    movie_id INTEGER,\n    genre_id INTEGER,\n    PRIMARY KEY (movie_id, genre_id),\n    FOREIGN KEY (movie_id) REFERENCES movies(id),\n    FOREIGN KEY (genre_id) REFERENCES genres(id)\n)",
            "columns": [
                {
                    "name": "movie_id",
                    "type": "INTEGER"
                },
                {
                    "name": "genre_id",
                    "type": "INTEGER"
                }
            ],
            "constraints": [
                {
                    "type": "PRIMARY KEY",
                    "definition": "PRIMARY KEY (movie_id, genre_id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (movie_id) REFERENCES movies(id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (genre_id) REFERENCES genres(id)\n"
                }
            ],
            "rows": [
                [
                    1,
                    1
                ],
                [
                    2,
                    1
                ],
                [
                    2,
                    2
                ],
                [
                    3,
                    3
                ],
                [
                    4,
                    1
                ],
                [
                    5,
                    1
                ],
                [
                    6,
                    6
                ],
                [
                    6,
                    7
                ],
                [
                    7,
                    4
                ],
                [
                    7,
                    5
                ],
                [
                    8,
                    2
                ],
                [
                    9,
                    4
                ],
                [
                    10,
                    1
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "movie_platforms",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE movie_platforms (\n    movie_id INTEGER NOT NULL,\n    platform_id INTEGER NOT NULL,\n    PRIMARY KEY (movie_id, platform_id),\n    FOREIGN KEY (movie_id) REFERENCES movies(id),\n    FOREIGN KEY (platform_id) REFERENCES platforms(id)\n)",
            "columns": [
                {
                    "name": "movie_id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "platform_id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                }
            ],
            "constraints": [
                {
                    "type": "PRIMARY KEY",
                    "definition": "PRIMARY KEY (movie_id, platform_id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (movie_id) REFERENCES movies(id)"
                },
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (platform_id) REFERENCES platforms(id)\n"
                }
            ],
            "rows": [
                [
                    1,
                    1
                ],
                [
                    2,
                    3
                ],
                [
                    3,
                    1
                ],
                [
                    3,
                    3
                ],
                [
                    7,
                    2
                ],
                [
                    10,
                    1
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "movies",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE movies (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    title TEXT NOT NULL,\n    year INTEGER,\n    runtime INTEGER,\n    imdb_rating REAL,\n    description_pl TEXT\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "title",
                    "type": "TEXT",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "year",
                    "type": "INTEGER"
                },
                {
                    "name": "runtime",
                    "type": "INTEGER"
                },
                {
                    "name": "imdb_rating",
                    "type": "REAL"
                },
                {
                    "name": "description_pl",
                    "type": "TEXT"
                }
            ],
            "rows": [
                [
                    1,
                    "Skazani na Shawshank",
                    1994,
                    142,
                    9.3,
                    "Dwóch uwięzionych mężczyzn nawiązuje niezwykłą więź przez lata, odnajdując pocieszenie i nadzieję dzięki aktom zwykłej przyzwoitości."
                ],
                [
                    2,
                    "Ojciec chrzestny",
                    1972,
                    175,
                    9.2,
                    "Starzejący się patriarcha mafijnej rodziny przekazuje kontrolę nad swoim przestępczym imperium niechętnemu synowi."
                ],
                [
                    3,
                    "Mroczny Rycerz",
                    2008,
                    152,
                    9,
                    "Batman staje do walki z Jokerem — anarchistą, który chce pogrążyć Gotham w chaosie."
                ],
                [
                    4,
                    "Ojciec chrzestny II",
                    1974,
                    202,
                    9,
                    "Historia młodego Vito Corleone oraz dalsze losy jego syna Michaela."
                ],
                [
                    5,
                    "Dwunastu gniewnych ludzi",
                    1957,
                    96,
                    9,
                    "Dwunastu przysięgłych decyduje o losie nastolatka oskarżonego o morderstwo."
                ],
                [
                    6,
                    "Lista Schindlera",
                    1993,
                    195,
                    9,
                    "Niemiecki przemysłowiec ratuje ponad tysiąc Żydów podczas Holokaustu."
                ],
                [
                    7,
                    "Władca Pierścieni: Powrót Króla",
                    2003,
                    201,
                    9,
                    "Ostateczna bitwa o Śródziemie i los Jedynego Pierścienia."
                ],
                [
                    8,
                    "Pulp Fiction",
                    1994,
                    154,
                    8.9,
                    "Przeplatające się historie gangsterów, boksera i żony bossa."
                ],
                [
                    9,
                    "Władca Pierścieni: Drużyna Pierścienia",
                    2001,
                    178,
                    8.8,
                    "Hobbit wyrusza w podróż, by zniszczyć potężny pierścień."
                ],
                [
                    10,
                    "Forrest Gump",
                    1994,
                    142,
                    8.8,
                    "Prosty człowiek nieświadomie bierze udział w kluczowych wydarzeniach historii USA."
                ],
                [
                    11,
                    "Skazani na Shawshank",
                    1994,
                    142,
                    9.3,
                    "Dwóch uwięzionych mężczyzn nawiązuje niezwykłą więź przez lata, odnajdując pocieszenie i nadzieję dzięki aktom zwykłej przyzwoitości."
                ],
                [
                    12,
                    "Ojciec chrzestny",
                    1972,
                    175,
                    9.2,
                    "Starzejący się patriarcha mafijnej rodziny przekazuje kontrolę nad swoim przestępczym imperium niechętnemu synowi."
                ],
                [
                    13,
                    "Mroczny Rycerz",
                    2008,
                    152,
                    9,
                    "Batman staje do walki z Jokerem — anarchistą, który chce pogrążyć Gotham w chaosie."
                ],
                [
                    14,
                    "Ojciec chrzestny II",
                    1974,
                    202,
                    9,
                    "Historia młodego Vito Corleone oraz dalsze losy jego syna Michaela."
                ],
                [
                    15,
                    "Dwunastu gniewnych ludzi",
                    1957,
                    96,
                    9,
                    "Dwunastu przysięgłych decyduje o losie nastolatka oskarżonego o morderstwo."
                ],
                [
                    16,
                    "Lista Schindlera",
                    1993,
                    195,
                    9,
                    "Niemiecki przemysłowiec ratuje ponad tysiąc Żydów podczas Holokaustu."
                ],
                [
                    17,
                    "Władca Pierścieni: Powrót Króla",
                    2003,
                    201,
                    9,
                    "Ostateczna bitwa o Śródziemie i los Jedynego Pierścienia."
                ],
                [
                    18,
                    "Pulp Fiction",
                    1994,
                    154,
                    8.9,
                    "Przeplatające się historie gangsterów, boksera i żony bossa."
                ],
                [
                    19,
                    "Władca Pierścieni: Drużyna Pierścienia",
                    2001,
                    178,
                    8.8,
                    "Hobbit wyrusza w podróż, by zniszczyć potężny pierścień."
                ],
                [
                    20,
                    "Forrest Gump",
                    1994,
                    142,
                    8.8,
                    "Prosty człowiek nieświadomie bierze udział w kluczowych wydarzeniach historii USA."
                ]
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "oceny",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE oceny (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    film_id         INTEGER NOT NULL,\n    wartosc_oceny   INTEGER CHECK (wartosc_oceny BETWEEN 1 AND 10),\n    data_dodania    DATETIME DEFAULT CURRENT_TIMESTAMP,\n\n    FOREIGN KEY (film_id) REFERENCES filmy(id) ON DELETE CASCADE\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "film_id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "wartosc_oceny",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "CHECK",
                            "definition": "CHECK (wartosc_oceny BETWEEN 1 AND 10)"
                        }
                    ]
                },
                {
                    "name": "data_dodania",
                    "type": "DATETIME",
                    "constraints": [
                        {
                            "type": "DEFAULT",
                            "definition": "DEFAULT CURRENT_TIMESTAMP"
                        }
                    ]
                }
            ],
            "constraints": [
                {
                    "type": "FOREIGN KEY",
                    "definition": "FOREIGN KEY (film_id) REFERENCES filmy(id) ON DELETE CASCADE\n"
                }
            ],
            "rows": [
            ]
        },
        {
            "type": "table",
            "database": null,
            "name": "platforms",
            "withoutRowId": false,
            "strict": false,
            "ddl": "CREATE TABLE platforms (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT UNIQUE NOT NULL,\n    logo_url TEXT\n)",
            "columns": [
                {
                    "name": "id",
                    "type": "INTEGER",
                    "constraints": [
                        {
                            "type": "PRIMARY KEY",
                            "definition": "PRIMARY KEY AUTOINCREMENT"
                        }
                    ]
                },
                {
                    "name": "name",
                    "type": "TEXT",
                    "constraints": [
                        {
                            "type": "UNIQUE",
                            "definition": "UNIQUE "
                        },
                        {
                            "type": "NOT NULL",
                            "definition": "NOT NULL"
                        }
                    ]
                },
                {
                    "name": "logo_url",
                    "type": "TEXT"
                }
            ],
            "rows": [
                [
                    1,
                    "Netflix",
                    "images\/platforms\/netflix.png"
                ],
                [
                    2,
                    "Disney+",
                    "images\/platforms\/disney.png"
                ],
                [
                    3,
                    "HBO Max",
                    "images\/platforms\/hbo.png"
                ]
            ]
        }
    ]
}